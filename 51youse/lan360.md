## lan360对比新框架

#### 状态管理的选型
>
   ## lan360 
    目前lan360使用的为mobx
   ## 新框架    
    目前前端有两种状态管理的方案，redux,mobx,考虑到项目的复杂度，可扩展性与同事的技术选型
    选择弃用lan360的mobx,使用基于redux，redux-saga封装的dva。
>
#### 关于要不要使用状态管理
>
   ## lan360
        lan360将请求的数据甚至是页面的一些状态都放进了全局的store,这样会造成页面比较臃肿，数据变的不好追踪，
        增加开发与维护成本。
   ## 新框架
        倾向于尽量不使用
   ## 尽量不使用的解释      
        状态管理仅在在以下两种场景下需要使用:
        1.需要跨组件共享的数据
        2.页面返回时需要保留之前的状态

        对于以上两种需要使用状态管理的场景
        可以使用dva，dva将 redux,redux-saga的分开写法,集成进一个model文件，省去大部份的样板代码。

        对于不需要使用的状态管理的场景:
        根据前面项目经验倾向于直接在组件请求数据
        放进组件state,对于跨组件通信采用 React 的 state lifting(状态提升) 如果组件设计合理可以覆盖
        大部分场景。
>
#### 关于样式与组件
> 
  ## lan360
    目前lan360采用的是页面顶级class去区不同页面分样式，好多可以复用的地方没有抽出组件进行复用，造成样式与逻辑
    的重复书写。
  ## 新框架  
    项目样式文件可分为全局样式，组件样式，行内样式。
    全局样式通常是定义通用的类对所有页面起作用
    react推崇组件化写法，项目中以antd组件为基础将通用模块抽出为通用业务组件，为避免组件样式相互影响，采用了
    css-modules(也可以有其他方案)，将样式表跟着组件走。增加组件的可复用行。
>

#### 404报错页面
   ## lan360
    目前没有404页面的实现，当在lan360网站敲入一个不存在的url时，会显示框架原有的404页面，没有接入lan360网站的404页面
   ## 新框架
    通过拦截错误提示使不存在的url指向lan360网站404的页面  